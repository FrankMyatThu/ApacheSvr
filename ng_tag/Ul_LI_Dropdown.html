<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="./bower_components/bootstrap/dist/css/bootstrap.min.css">
	<style type="text/css">
		.dropdown-menu {
			width: 230px;
		}
		.dropdown-menu li a {
			word-wrap: break-word;
			white-space: normal;
		}
	</style>
	<script src="./bower_components/jquery/dist/jquery.min.js"></script>	
	<script src="./bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="./bower_components/angular/angular.min.js"></script>	
	<script>
			angular.module('myApp', [])
			.controller('MyCtrl', function($scope, $http) {
				$scope.ddlProjectCategoryDefaultMessage = "";
				$scope.SelectedKey = "";
				$scope.SelectedValue = "";				

				$scope.ProjectCategoryList = [
					{
						Key: 'A001',
						Value: 'Myanmar EITI Implementation Project',
					}, 
					{
						Key: 'B001',
						Value: 'National Electrification Project'
					}, 
					{
						Key: 'C001',
						Value: 'Agricultural Development Support Project'
					}
				];
				
				
				$scope.ddlProjectCategory_SelectedChange = function(Key, Value){
					$scope.SelectedKey = Key;
					$scope.SelectedValue = Value;
					$scope.ddlProjectCategoryDefaultMessage = Value;
				}
				
				$scope.ddlProjectCategory_keyChange = function(){
					console.log("Change Value = ", $scope.ddlProjectCategoryDefaultMessage);
					//$scope.ProjectCategoryList
					// data[0].List_tbl_Pager_To_Client.filter(function (item) { return item.BatchIndex === $scope.Order_Criteria_Model.BatchIndex; })
					/*
					$scope.ProjectCategoryList = $scope.ProjectCategoryList.filter(
						function(item){
							return item.Value ==
						}
					);
					http://stackoverflow.com/questions/19405346/how-can-i-write-an-angularjs-filter-to-search-for-string-fragments-sequences-of
					*/
				}				
			});
	</script>	
</head>
<body ng-app="myApp" ng-controller="MyCtrl">
	<div class="container">
		<div class="panel-group">
			<div class="panel panel-primary">
				<div class="panel-heading">Dropdown Testing</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-md-3"><span class="text-muted">Control</span></div>
						<div class="col-md-2"><span class="text-muted">Key</span></div>
						<div class="col-md-2"><span class="text-muted">Value</span></div>
					</div>
					<div class="row">
						<div class="col-md-3">
							<!-- Dropdown Control Start -->
							<div class="input-append btn-group">									
									<input 
										type="text"
										id="ddlProjectCategory" 
										placeholder="-- Select Project --" 
										ng-model="ddlProjectCategoryDefaultMessage"
										data-toggle="dropdown" 
										aria-haspopup="true" 
										aria-expanded="true" 
										class="form-control"
										style="text-align:left;width:230px;"										
										ng-change="ddlProjectCategory_keyChange();" />
									<span 
										class="caret" 
										data-toggle="dropdown" 
										aria-haspopup="true" 
										aria-expanded="true" 
										style="position:absolute;left:90%;top:45%;"></span>
										
									<ul class="dropdown-menu" aria-labelledby="ddlProjectCategory">
										<li ng-repeat="ProjectCategory in ProjectCategoryList">
											<a href="#" ng-click="ddlProjectCategory_SelectedChange(ProjectCategory.Key, ProjectCategory.Value);">
												{{ ProjectCategory.Value }}
											</a>
										</li>										
									</ul>
							</div>
							<!-- Dropdown Control End   -->
						</div>
						<div class="col-md-2"><span class="text-muted">{{ SelectedKey }}</span></div>
						<div class="col-md-2"><span class="text-muted">{{ SelectedValue }}</span></div>
					</div>					
				</div>
			</div>
		</div>
	</div>	
</body>
</html>